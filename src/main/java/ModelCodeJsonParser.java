import java.io.ByteArrayInputStream;
import java.io.InputStream;
import java.nio.charset.StandardCharsets;
import java.util.HashMap;
import java.util.Map;

import org.json.JSONArray;
import org.json.JSONObject;
import org.json.JSONTokener;

import com.adeptia.indigo.logging.Logger;
import com.adeptia.indigo.services.ServiceException;
import com.adeptia.indigo.services.mapping.MappingTransformation;
import com.adeptia.indigo.system.Context;

/**
 * @author Rajo
 * @since 09-12-2019 <br>
 *        <br>
 *        This class will parser model code Json and parse it to map on the
 *        basis of modelCd as key and InvestmentModels as string json in value.
 *
 */
public class ModelCodeJsonParser {
	private static Logger logger = Logger.getLogger("ModelCodeJsonParser");

	// Context context =null;
	public static void modelCodeParser(String jsonString, MappingTransformation mappingTransformation) throws Exception {
		Context context = null;
		try {
			context = mappingTransformation.getContext();
		} catch (ServiceException e1) {
			e1.printStackTrace();
			logger.error(e1);
		}
		// this.context=context;
		System.out.println("**** Received JSON **** ");
		logger.info("**** Received JSON **** " + jsonString);
		Map<String, String> mapTemp = new HashMap<>();
		Map<String, String> mapForModelcode = new HashMap<>();
		try {
			JSONObject parser = new JSONObject(jsonString);
			JSONObject parserPlan = parser.getJSONObject("ResponseData");
			JSONArray arrayInvestmentModels = parserPlan.getJSONArray("InvestmentModels");
			// JSONObject json = (JSONObject) parser.parse(stringToParse);
			System.out.println(parser);
			for (int i = 0; i < arrayInvestmentModels.length(); i++) {
				JSONObject obj = (JSONObject) arrayInvestmentModels.get(i);
				String modelCd = (String) obj.get("assetAllocationModelCd");
				if (mapTemp.containsKey(modelCd)) {
					String value = mapTemp.get(modelCd);
					value = value + "," + obj.toString();
					mapTemp.put(modelCd, value);
				} else {
					mapTemp.put(modelCd, obj.toString());
				}
				System.out.println(modelCd);
			}
			// iterating over for loop for adding [] for array of jsons
			for (Map.Entry<String, String> entry : mapTemp.entrySet()) {
				String value = entry.getValue();
				StringBuffer sb = new StringBuffer();
				sb.append("[").append(value).append("]");
				mapForModelcode.put(entry.getKey(), sb.toString());

			}
			// System.out.println(mapForModelcode);
		}

		catch (Exception e) {
			e.printStackTrace();
			logger.error(e);
		}
		for (Map.Entry<String, String> entry : mapForModelcode.entrySet()) {
			if (context != null) {
				context.put(entry.getKey(), entry.getValue());
			} else {
				throw new Exception("context object must not be null...");
			}

		}
		logger.info("Final Map values.. " + mapForModelcode);
		// context.put("ModelcodeMap", mapForModelcode);
		// return mapForModelcode;
	}
	/*public static void main(String[] args) throws Exception {
		String jsonString="{\"ResponseData\":{\"agreementBusinessNum\":\"754109\",\"InvestmentModels\":[{\"assetAllocationModelCd\":\"00005\",\"assetAllocationModelName\":\"Short Term\",\"assetAllocationModelRankingNum\":1,\"AssetClassAllocations\":[{\"assetClassDesc\":\"Cash\",\"assetClassAllocationPct\":50,\"AssetCategoryGroupAllocations\":[{\"assetCategoryGroupName\":\"Stable Value/Money Market\",\"assetCategoryGroupAllocationPct\":50,\"InvestmentElections\":[{\"hostFIVInvestmentProductNum\":\"GE\",\"hostInvestmentProductNum\":\"3SY000005\",\"agreementInvestmentProductId\":\"94522\",\"agreementInvestmentProductDesc\":\"JPM US GV MM\",\"agreementInvestmentProductLongDesc\":\"JPMORGAN US GOVT MONEY MARKET\",\"agreementInvestmentProductShortDesc\":\"JPUGM\",\"investmentElectionPct\":50}]}]},{\"assetClassDesc\":\"Bond\",\"assetClassAllocationPct\":50,\"AssetCategoryGroupAllocations\":[{\"assetCategoryGroupName\":\"Bond\",\"assetCategoryGroupAllocationPct\":50,\"InvestmentElections\":[{\"hostFIVInvestmentProductNum\":\"6K\",\"hostInvestmentProductNum\":\"6K000R002\",\"agreementInvestmentProductId\":\"150476\",\"agreementInvestmentProductDesc\":\"BNYM BN MKID\",\"agreementInvestmentProductLongDesc\":\"BNY MELLON BOND MARKET INDEX\",\"agreementInvestmentProductShortDesc\":\"DBMI\",\"investmentElectionPct\":13},{\"hostFIVInvestmentProductNum\":\"K3\",\"hostInvestmentProductNum\":\"K3000R002\",\"agreementInvestmentProductId\":\"221461\",\"agreementInvestmentProductDesc\":\"JPM CORE BND\",\"agreementInvestmentProductLongDesc\":\"JP MORGAN CORE BOND\",\"agreementInvestmentProductShortDesc\":\"JPMCB\",\"investmentElectionPct\":12},{\"hostFIVInvestmentProductNum\":\"SB\",\"hostInvestmentProductNum\":\"SB000R002\",\"agreementInvestmentProductId\":\"300717\",\"agreementInvestmentProductDesc\":\"LMSSY BD\",\"agreementInvestmentProductLongDesc\":\"LOOMIS SAYLES BOND\",\"agreementInvestmentProductShortDesc\":\"LSYBD\",\"investmentElectionPct\":12},{\"hostFIVInvestmentProductNum\":\"Y2\",\"hostInvestmentProductNum\":\"Y2000R002\",\"agreementInvestmentProductId\":\"148855\",\"agreementInvestmentProductDesc\":\"TMPL GL BOND\",\"agreementInvestmentProductLongDesc\":\"TEMPLETON GLOBAL BOND\",\"agreementInvestmentProductShortDesc\":\"TGBND\",\"investmentElectionPct\":13}]}]}]},{\"assetAllocationModelCd\":\"00004\",\"assetAllocationModelName\":\"Conservative\",\"assetAllocationModelRankingNum\":2,\"AssetClassAllocations\":[{\"assetClassDesc\":\"Stock\",\"assetClassAllocationPct\":30,\"AssetCategoryGroupAllocations\":[{\"assetCategoryGroupName\":\"Mid Cap\",\"assetCategoryGroupAllocationPct\":6,\"InvestmentElections\":[{\"hostFIVInvestmentProductNum\":\"LQ\",\"hostInvestmentProductNum\":\"LQ000R001\",\"agreementInvestmentProductId\":\"184059\",\"agreementInvestmentProductDesc\":\"BNYM MC INDX\",\"agreementInvestmentProductLongDesc\":\"BNY MELLON MIDCAP INDEX\",\"agreementInvestmentProductShortDesc\":\"DMCIN\",\"investmentElectionPct\":2},{\"hostFIVInvestmentProductNum\":\"TW\",\"hostInvestmentProductNum\":\"TW000R002\",\"agreementInvestmentProductId\":\"347134\",\"agreementInvestmentProductDesc\":\"LA VAL OPP\",\"agreementInvestmentProductLongDesc\":\"LORD ABBETT VALUE OPP\",\"agreementInvestmentProductShortDesc\":\"LAVAO\",\"investmentElectionPct\":2},{\"hostFIVInvestmentProductNum\":\"X7\",\"hostInvestmentProductNum\":\"X7000R002\",\"agreementInvestmentProductId\":\"305987\",\"agreementInvestmentProductDesc\":\"VIC SE VAL\",\"agreementInvestmentProductLongDesc\":\"VICTORY SYCAMORE EST VALUE\",\"agreementInvestmentProductShortDesc\":\"VSEVL\",\"investmentElectionPct\":2}]},{\"assetCategoryGroupName\":\"International\",\"assetCategoryGroupAllocationPct\":5,\"InvestmentElections\":[{\"hostFIVInvestmentProductNum\":\"7K\",\"hostInvestmentProductNum\":\"7K000R001\",\"agreementInvestmentProductId\":\"226911\",\"agreementInvestmentProductDesc\":\"AF EUROPAC\",\"agreementInvestmentProductLongDesc\":\"AMERICAN FUNDS EUROPACIFIC\",\"agreementInvestmentProductShortDesc\":\"EUPGR\",\"investmentElectionPct\":2},{\"hostFIVInvestmentProductNum\":\"K8\",\"hostInvestmentProductNum\":\"K8000R002\",\"agreementInvestmentProductId\":\"106741\",\"agreementInvestmentProductDesc\":\"INV DV MKT\",\"agreementInvestmentProductLongDesc\":\"INVESCO DEVELOPING MARKETS\",\"agreementInvestmentProductShortDesc\":\"INVDM\",\"investmentElectionPct\":2},{\"hostFIVInvestmentProductNum\":\"YI\",\"hostInvestmentProductNum\":\"YI000R002\",\"agreementInvestmentProductId\":\"278567\",\"agreementInvestmentProductDesc\":\"MFS IN INTVL\",\"agreementInvestmentProductLongDesc\":\"MFS INTERNATIONAL INTRINSIC VA\",\"agreementInvestmentProductShortDesc\":\"MFSIV\",\"investmentElectionPct\":1}]},{\"assetCategoryGroupName\":\"Small Cap\",\"assetCategoryGroupAllocationPct\":1,\"InvestmentElections\":[{\"hostFIVInvestmentProductNum\":\"LR\",\"hostInvestmentProductNum\":\"LR000R001\",\"agreementInvestmentProductId\":\"96586\",\"agreementInvestmentProductDesc\":\"BNYM SC STIN\",\"agreementInvestmentProductLongDesc\":\"BNY MELLON SMLCAP STOCK INDEX\",\"agreementInvestmentProductShortDesc\":\"DSCST\",\"investmentElectionPct\":1}]},{\"assetCategoryGroupName\":\"Large Cap\",\"assetCategoryGroupAllocationPct\":18,\"InvestmentElections\":[{\"hostFIVInvestmentProductNum\":\"5X\",\"hostInvestmentProductNum\":\"5X000R001\",\"agreementInvestmentProductId\":\"381770\",\"agreementInvestmentProductDesc\":\"AC EQ INC\",\"agreementInvestmentProductLongDesc\":\"AMERICAN CENTURY EQUITY INCOME\",\"agreementInvestmentProductShortDesc\":\"ACEI\",\"investmentElectionPct\":5},{\"hostFIVInvestmentProductNum\":\"KY\",\"hostInvestmentProductNum\":\"KY000R001\",\"agreementInvestmentProductId\":\"36938\",\"agreementInvestmentProductDesc\":\"DOMINI IMPEQ\",\"agreementInvestmentProductLongDesc\":\"DOMINI IMPACT EQUITY\",\"agreementInvestmentProductShortDesc\":\"DOIEQ\",\"investmentElectionPct\":5},{\"hostFIVInvestmentProductNum\":\"ND\",\"hostInvestmentProductNum\":\"ND000R002\",\"agreementInvestmentProductId\":\"23230\",\"agreementInvestmentProductDesc\":\"FR GROWTH\",\"agreementInvestmentProductLongDesc\":\"FRANKLIN GROWTH\",\"agreementInvestmentProductShortDesc\":\"FRKGR\",\"investmentElectionPct\":4},{\"hostFIVInvestmentProductNum\":\"SX\",\"hostInvestmentProductNum\":\"SX000R001\",\"agreementInvestmentProductId\":\"100655\",\"agreementInvestmentProductDesc\":\"BNYM SP500IN\",\"agreementInvestmentProductLongDesc\":\"BNY MELLON S&P 500 INDEX\",\"agreementInvestmentProductShortDesc\":\"DS&PI\",\"investmentElectionPct\":4}]}]},{\"assetClassDesc\":\"Cash\",\"assetClassAllocationPct\":20,\"AssetCategoryGroupAllocations\":[{\"assetCategoryGroupName\":\"Stable Value/Money Market\",\"assetCategoryGroupAllocationPct\":20,\"InvestmentElections\":[{\"hostFIVInvestmentProductNum\":\"GE\",\"hostInvestmentProductNum\":\"3SY000005\",\"agreementInvestmentProductId\":\"94522\",\"agreementInvestmentProductDesc\":\"JPM US GV MM\",\"agreementInvestmentProductLongDesc\":\"JPMORGAN US GOVT MONEY MARKET\",\"agreementInvestmentProductShortDesc\":\"JPUGM\",\"investmentElectionPct\":20}]}]},{\"assetClassDesc\":\"Bond\",\"assetClassAllocationPct\":50,\"AssetCategoryGroupAllocations\":[{\"assetCategoryGroupName\":\"Bond\",\"assetCategoryGroupAllocationPct\":50,\"InvestmentElections\":[{\"hostFIVInvestmentProductNum\":\"6K\",\"hostInvestmentProductNum\":\"6K000R002\",\"agreementInvestmentProductId\":\"150476\",\"agreementInvestmentProductDesc\":\"BNYM BN MKID\",\"agreementInvestmentProductLongDesc\":\"BNY MELLON BOND MARKET INDEX\",\"agreementInvestmentProductShortDesc\":\"DBMI\",\"investmentElectionPct\":13},{\"hostFIVInvestmentProductNum\":\"K3\",\"hostInvestmentProductNum\":\"K3000R002\",\"agreementInvestmentProductId\":\"221461\",\"agreementInvestmentProductDesc\":\"JPM CORE BND\",\"agreementInvestmentProductLongDesc\":\"JP MORGAN CORE BOND\",\"agreementInvestmentProductShortDesc\":\"JPMCB\",\"investmentElectionPct\":12},{\"hostFIVInvestmentProductNum\":\"SB\",\"hostInvestmentProductNum\":\"SB000R002\",\"agreementInvestmentProductId\":\"300717\",\"agreementInvestmentProductDesc\":\"LMSSY BD\",\"agreementInvestmentProductLongDesc\":\"LOOMIS SAYLES BOND\",\"agreementInvestmentProductShortDesc\":\"LSYBD\",\"investmentElectionPct\":12},{\"hostFIVInvestmentProductNum\":\"Y2\",\"hostInvestmentProductNum\":\"Y2000R002\",\"agreementInvestmentProductId\":\"148855\",\"agreementInvestmentProductDesc\":\"TMPL GL BOND\",\"agreementInvestmentProductLongDesc\":\"TEMPLETON GLOBAL BOND\",\"agreementInvestmentProductShortDesc\":\"TGBND\",\"investmentElectionPct\":13}]}]}]},{\"assetAllocationModelCd\":\"00003\",\"assetAllocationModelName\":\"Moderate\",\"assetAllocationModelRankingNum\":3,\"AssetClassAllocations\":[{\"assetClassDesc\":\"Stock\",\"assetClassAllocationPct\":50,\"AssetCategoryGroupAllocations\":[{\"assetCategoryGroupName\":\"Mid Cap\",\"assetCategoryGroupAllocationPct\":10,\"InvestmentElections\":[{\"hostFIVInvestmentProductNum\":\"LQ\",\"hostInvestmentProductNum\":\"LQ000R001\",\"agreementInvestmentProductId\":\"184059\",\"agreementInvestmentProductDesc\":\"BNYM MC INDX\",\"agreementInvestmentProductLongDesc\":\"BNY MELLON MIDCAP INDEX\",\"agreementInvestmentProductShortDesc\":\"DMCIN\",\"investmentElectionPct\":4},{\"hostFIVInvestmentProductNum\":\"TW\",\"hostInvestmentProductNum\":\"TW000R002\",\"agreementInvestmentProductId\":\"347134\",\"agreementInvestmentProductDesc\":\"LA VAL OPP\",\"agreementInvestmentProductLongDesc\":\"LORD ABBETT VALUE OPP\",\"agreementInvestmentProductShortDesc\":\"LAVAO\",\"investmentElectionPct\":3},{\"hostFIVInvestmentProductNum\":\"X7\",\"hostInvestmentProductNum\":\"X7000R002\",\"agreementInvestmentProductId\":\"305987\",\"agreementInvestmentProductDesc\":\"VIC SE VAL\",\"agreementInvestmentProductLongDesc\":\"VICTORY SYCAMORE EST VALUE\",\"agreementInvestmentProductShortDesc\":\"VSEVL\",\"investmentElectionPct\":3}]},{\"assetCategoryGroupName\":\"International\",\"assetCategoryGroupAllocationPct\":10,\"InvestmentElections\":[{\"hostFIVInvestmentProductNum\":\"7K\",\"hostInvestmentProductNum\":\"7K000R001\",\"agreementInvestmentProductId\":\"226911\",\"agreementInvestmentProductDesc\":\"AF EUROPAC\",\"agreementInvestmentProductLongDesc\":\"AMERICAN FUNDS EUROPACIFIC\",\"agreementInvestmentProductShortDesc\":\"EUPGR\",\"investmentElectionPct\":4},{\"hostFIVInvestmentProductNum\":\"K8\",\"hostInvestmentProductNum\":\"K8000R002\",\"agreementInvestmentProductId\":\"106741\",\"agreementInvestmentProductDesc\":\"INV DV MKT\",\"agreementInvestmentProductLongDesc\":\"INVESCO DEVELOPING MARKETS\",\"agreementInvestmentProductShortDesc\":\"INVDM\",\"investmentElectionPct\":3},{\"hostFIVInvestmentProductNum\":\"YI\",\"hostInvestmentProductNum\":\"YI000R002\",\"agreementInvestmentProductId\":\"278567\",\"agreementInvestmentProductDesc\":\"MFS IN INTVL\",\"agreementInvestmentProductLongDesc\":\"MFS INTERNATIONAL INTRINSIC VA\",\"agreementInvestmentProductShortDesc\":\"MFSIV\",\"investmentElectionPct\":3}]},{\"assetCategoryGroupName\":\"Small Cap\",\"assetCategoryGroupAllocationPct\":2,\"InvestmentElections\":[{\"hostFIVInvestmentProductNum\":\"LR\",\"hostInvestmentProductNum\":\"LR000R001\",\"agreementInvestmentProductId\":\"96586\",\"agreementInvestmentProductDesc\":\"BNYM SC STIN\",\"agreementInvestmentProductLongDesc\":\"BNY MELLON SMLCAP STOCK INDEX\",\"agreementInvestmentProductShortDesc\":\"DSCST\",\"investmentElectionPct\":2}]},{\"assetCategoryGroupName\":\"Large Cap\",\"assetCategoryGroupAllocationPct\":28,\"InvestmentElections\":[{\"hostFIVInvestmentProductNum\":\"5X\",\"hostInvestmentProductNum\":\"5X000R001\",\"agreementInvestmentProductId\":\"381770\",\"agreementInvestmentProductDesc\":\"AC EQ INC\",\"agreementInvestmentProductLongDesc\":\"AMERICAN CENTURY EQUITY INCOME\",\"agreementInvestmentProductShortDesc\":\"ACEI\",\"investmentElectionPct\":7},{\"hostFIVInvestmentProductNum\":\"KY\",\"hostInvestmentProductNum\":\"KY000R001\",\"agreementInvestmentProductId\":\"36938\",\"agreementInvestmentProductDesc\":\"DOMINI IMPEQ\",\"agreementInvestmentProductLongDesc\":\"DOMINI IMPACT EQUITY\",\"agreementInvestmentProductShortDesc\":\"DOIEQ\",\"investmentElectionPct\":7},{\"hostFIVInvestmentProductNum\":\"ND\",\"hostInvestmentProductNum\":\"ND000R002\",\"agreementInvestmentProductId\":\"23230\",\"agreementInvestmentProductDesc\":\"FR GROWTH\",\"agreementInvestmentProductLongDesc\":\"FRANKLIN GROWTH\",\"agreementInvestmentProductShortDesc\":\"FRKGR\",\"investmentElectionPct\":7},{\"hostFIVInvestmentProductNum\":\"SX\",\"hostInvestmentProductNum\":\"SX000R001\",\"agreementInvestmentProductId\":\"100655\",\"agreementInvestmentProductDesc\":\"BNYM SP500IN\",\"agreementInvestmentProductLongDesc\":\"BNY MELLON S&P 500 INDEX\",\"agreementInvestmentProductShortDesc\":\"DS&PI\",\"investmentElectionPct\":7}]}]},{\"assetClassDesc\":\"Cash\",\"assetClassAllocationPct\":10,\"AssetCategoryGroupAllocations\":[{\"assetCategoryGroupName\":\"Stable Value/Money Market\",\"assetCategoryGroupAllocationPct\":10,\"InvestmentElections\":[{\"hostFIVInvestmentProductNum\":\"GE\",\"hostInvestmentProductNum\":\"3SY000005\",\"agreementInvestmentProductId\":\"94522\",\"agreementInvestmentProductDesc\":\"JPM US GV MM\",\"agreementInvestmentProductLongDesc\":\"JPMORGAN US GOVT MONEY MARKET\",\"agreementInvestmentProductShortDesc\":\"JPUGM\",\"investmentElectionPct\":10}]}]},{\"assetClassDesc\":\"Bond\",\"assetClassAllocationPct\":40,\"AssetCategoryGroupAllocations\":[{\"assetCategoryGroupName\":\"Bond\",\"assetCategoryGroupAllocationPct\":40,\"InvestmentElections\":[{\"hostFIVInvestmentProductNum\":\"6K\",\"hostInvestmentProductNum\":\"6K000R002\",\"agreementInvestmentProductId\":\"150476\",\"agreementInvestmentProductDesc\":\"BNYM BN MKID\",\"agreementInvestmentProductLongDesc\":\"BNY MELLON BOND MARKET INDEX\",\"agreementInvestmentProductShortDesc\":\"DBMI\",\"investmentElectionPct\":10},{\"hostFIVInvestmentProductNum\":\"K3\",\"hostInvestmentProductNum\":\"K3000R002\",\"agreementInvestmentProductId\":\"221461\",\"agreementInvestmentProductDesc\":\"JPM CORE BND\",\"agreementInvestmentProductLongDesc\":\"JP MORGAN CORE BOND\",\"agreementInvestmentProductShortDesc\":\"JPMCB\",\"investmentElectionPct\":10},{\"hostFIVInvestmentProductNum\":\"SB\",\"hostInvestmentProductNum\":\"SB000R002\",\"agreementInvestmentProductId\":\"300717\",\"agreementInvestmentProductDesc\":\"LMSSY BD\",\"agreementInvestmentProductLongDesc\":\"LOOMIS SAYLES BOND\",\"agreementInvestmentProductShortDesc\":\"LSYBD\",\"investmentElectionPct\":10},{\"hostFIVInvestmentProductNum\":\"Y2\",\"hostInvestmentProductNum\":\"Y2000R002\",\"agreementInvestmentProductId\":\"148855\",\"agreementInvestmentProductDesc\":\"TMPL GL BOND\",\"agreementInvestmentProductLongDesc\":\"TEMPLETON GLOBAL BOND\",\"agreementInvestmentProductShortDesc\":\"TGBND\",\"investmentElectionPct\":10}]}]}]},{\"assetAllocationModelCd\":\"00002\",\"assetAllocationModelName\":\"Moderate Growth\",\"assetAllocationModelRankingNum\":4,\"AssetClassAllocations\":[{\"assetClassDesc\":\"Stock\",\"assetClassAllocationPct\":70,\"AssetCategoryGroupAllocations\":[{\"assetCategoryGroupName\":\"International\",\"assetCategoryGroupAllocationPct\":15,\"InvestmentElections\":[{\"hostFIVInvestmentProductNum\":\"7K\",\"hostInvestmentProductNum\":\"7K000R001\",\"agreementInvestmentProductId\":\"226911\",\"agreementInvestmentProductDesc\":\"AF EUROPAC\",\"agreementInvestmentProductLongDesc\":\"AMERICAN FUNDS EUROPACIFIC\",\"agreementInvestmentProductShortDesc\":\"EUPGR\",\"investmentElectionPct\":5},{\"hostFIVInvestmentProductNum\":\"K8\",\"hostInvestmentProductNum\":\"K8000R002\",\"agreementInvestmentProductId\":\"106741\",\"agreementInvestmentProductDesc\":\"INV DV MKT\",\"agreementInvestmentProductLongDesc\":\"INVESCO DEVELOPING MARKETS\",\"agreementInvestmentProductShortDesc\":\"INVDM\",\"investmentElectionPct\":5},{\"hostFIVInvestmentProductNum\":\"YI\",\"hostInvestmentProductNum\":\"YI000R002\",\"agreementInvestmentProductId\":\"278567\",\"agreementInvestmentProductDesc\":\"MFS IN INTVL\",\"agreementInvestmentProductLongDesc\":\"MFS INTERNATIONAL INTRINSIC VA\",\"agreementInvestmentProductShortDesc\":\"MFSIV\",\"investmentElectionPct\":5}]},{\"assetCategoryGroupName\":\"Small Cap\",\"assetCategoryGroupAllocationPct\":3,\"InvestmentElections\":[{\"hostFIVInvestmentProductNum\":\"LR\",\"hostInvestmentProductNum\":\"LR000R001\",\"agreementInvestmentProductId\":\"96586\",\"agreementInvestmentProductDesc\":\"BNYM SC STIN\",\"agreementInvestmentProductLongDesc\":\"BNY MELLON SMLCAP STOCK INDEX\",\"agreementInvestmentProductShortDesc\":\"DSCST\",\"investmentElectionPct\":3}]},{\"assetCategoryGroupName\":\"Large Cap\",\"assetCategoryGroupAllocationPct\":37,\"InvestmentElections\":[{\"hostFIVInvestmentProductNum\":\"5X\",\"hostInvestmentProductNum\":\"5X000R001\",\"agreementInvestmentProductId\":\"381770\",\"agreementInvestmentProductDesc\":\"AC EQ INC\",\"agreementInvestmentProductLongDesc\":\"AMERICAN CENTURY EQUITY INCOME\",\"agreementInvestmentProductShortDesc\":\"ACEI\",\"investmentElectionPct\":10},{\"hostFIVInvestmentProductNum\":\"KY\",\"hostInvestmentProductNum\":\"KY000R001\",\"agreementInvestmentProductId\":\"36938\",\"agreementInvestmentProductDesc\":\"DOMINI IMPEQ\",\"agreementInvestmentProductLongDesc\":\"DOMINI IMPACT EQUITY\",\"agreementInvestmentProductShortDesc\":\"DOIEQ\",\"investmentElectionPct\":9},{\"hostFIVInvestmentProductNum\":\"ND\",\"hostInvestmentProductNum\":\"ND000R002\",\"agreementInvestmentProductId\":\"23230\",\"agreementInvestmentProductDesc\":\"FR GROWTH\",\"agreementInvestmentProductLongDesc\":\"FRANKLIN GROWTH\",\"agreementInvestmentProductShortDesc\":\"FRKGR\",\"investmentElectionPct\":9},{\"hostFIVInvestmentProductNum\":\"SX\",\"hostInvestmentProductNum\":\"SX000R001\",\"agreementInvestmentProductId\":\"100655\",\"agreementInvestmentProductDesc\":\"BNYM SP500IN\",\"agreementInvestmentProductLongDesc\":\"BNY MELLON S&P 500 INDEX\",\"agreementInvestmentProductShortDesc\":\"DS&PI\",\"investmentElectionPct\":9}]},{\"assetCategoryGroupName\":\"Mid Cap\",\"assetCategoryGroupAllocationPct\":15,\"InvestmentElections\":[{\"hostFIVInvestmentProductNum\":\"LQ\",\"hostInvestmentProductNum\":\"LQ000R001\",\"agreementInvestmentProductId\":\"184059\",\"agreementInvestmentProductDesc\":\"BNYM MC INDX\",\"agreementInvestmentProductLongDesc\":\"BNY MELLON MIDCAP INDEX\",\"agreementInvestmentProductShortDesc\":\"DMCIN\",\"investmentElectionPct\":5},{\"hostFIVInvestmentProductNum\":\"TW\",\"hostInvestmentProductNum\":\"TW000R002\",\"agreementInvestmentProductId\":\"347134\",\"agreementInvestmentProductDesc\":\"LA VAL OPP\",\"agreementInvestmentProductLongDesc\":\"LORD ABBETT VALUE OPP\",\"agreementInvestmentProductShortDesc\":\"LAVAO\",\"investmentElectionPct\":5},{\"hostFIVInvestmentProductNum\":\"X7\",\"hostInvestmentProductNum\":\"X7000R002\",\"agreementInvestmentProductId\":\"305987\",\"agreementInvestmentProductDesc\":\"VIC SE VAL\",\"agreementInvestmentProductLongDesc\":\"VICTORY SYCAMORE EST VALUE\",\"agreementInvestmentProductShortDesc\":\"VSEVL\",\"investmentElectionPct\":5}]}]},{\"assetClassDesc\":\"Bond\",\"assetClassAllocationPct\":30,\"AssetCategoryGroupAllocations\":[{\"assetCategoryGroupName\":\"Bond\",\"assetCategoryGroupAllocationPct\":30,\"InvestmentElections\":[{\"hostFIVInvestmentProductNum\":\"6K\",\"hostInvestmentProductNum\":\"6K000R002\",\"agreementInvestmentProductId\":\"150476\",\"agreementInvestmentProductDesc\":\"BNYM BN MKID\",\"agreementInvestmentProductLongDesc\":\"BNY MELLON BOND MARKET INDEX\",\"agreementInvestmentProductShortDesc\":\"DBMI\",\"investmentElectionPct\":8},{\"hostFIVInvestmentProductNum\":\"K3\",\"hostInvestmentProductNum\":\"K3000R002\",\"agreementInvestmentProductId\":\"221461\",\"agreementInvestmentProductDesc\":\"JPM CORE BND\",\"agreementInvestmentProductLongDesc\":\"JP MORGAN CORE BOND\",\"agreementInvestmentProductShortDesc\":\"JPMCB\",\"investmentElectionPct\":7},{\"hostFIVInvestmentProductNum\":\"SB\",\"hostInvestmentProductNum\":\"SB000R002\",\"agreementInvestmentProductId\":\"300717\",\"agreementInvestmentProductDesc\":\"LMSSY BD\",\"agreementInvestmentProductLongDesc\":\"LOOMIS SAYLES BOND\",\"agreementInvestmentProductShortDesc\":\"LSYBD\",\"investmentElectionPct\":7},{\"hostFIVInvestmentProductNum\":\"Y2\",\"hostInvestmentProductNum\":\"Y2000R002\",\"agreementInvestmentProductId\":\"148855\",\"agreementInvestmentProductDesc\":\"TMPL GL BOND\",\"agreementInvestmentProductLongDesc\":\"TEMPLETON GLOBAL BOND\",\"agreementInvestmentProductShortDesc\":\"TGBND\",\"investmentElectionPct\":8}]}]}]},{\"assetAllocationModelCd\":\"00001\",\"assetAllocationModelName\":\"Growth\",\"assetAllocationModelRankingNum\":5,\"AssetClassAllocations\":[{\"assetClassDesc\":\"Stock\",\"assetClassAllocationPct\":90,\"AssetCategoryGroupAllocations\":[{\"assetCategoryGroupName\":\"Large Cap\",\"assetCategoryGroupAllocationPct\":44,\"InvestmentElections\":[{\"hostFIVInvestmentProductNum\":\"5X\",\"hostInvestmentProductNum\":\"5X000R001\",\"agreementInvestmentProductId\":\"381770\",\"agreementInvestmentProductDesc\":\"AC EQ INC\",\"agreementInvestmentProductLongDesc\":\"AMERICAN CENTURY EQUITY INCOME\",\"agreementInvestmentProductShortDesc\":\"ACEI\",\"investmentElectionPct\":11},{\"hostFIVInvestmentProductNum\":\"KY\",\"hostInvestmentProductNum\":\"KY000R001\",\"agreementInvestmentProductId\":\"36938\",\"agreementInvestmentProductDesc\":\"DOMINI IMPEQ\",\"agreementInvestmentProductLongDesc\":\"DOMINI IMPACT EQUITY\",\"agreementInvestmentProductShortDesc\":\"DOIEQ\",\"investmentElectionPct\":11},{\"hostFIVInvestmentProductNum\":\"ND\",\"hostInvestmentProductNum\":\"ND000R002\",\"agreementInvestmentProductId\":\"23230\",\"agreementInvestmentProductDesc\":\"FR GROWTH\",\"agreementInvestmentProductLongDesc\":\"FRANKLIN GROWTH\",\"agreementInvestmentProductShortDesc\":\"FRKGR\",\"investmentElectionPct\":11},{\"hostFIVInvestmentProductNum\":\"SX\",\"hostInvestmentProductNum\":\"SX000R001\",\"agreementInvestmentProductId\":\"100655\",\"agreementInvestmentProductDesc\":\"BNYM SP500IN\",\"agreementInvestmentProductLongDesc\":\"BNY MELLON S&P 500 INDEX\",\"agreementInvestmentProductShortDesc\":\"DS&PI\",\"investmentElectionPct\":11}]},{\"assetCategoryGroupName\":\"Mid Cap\",\"assetCategoryGroupAllocationPct\":20,\"InvestmentElections\":[{\"hostFIVInvestmentProductNum\":\"LQ\",\"hostInvestmentProductNum\":\"LQ000R001\",\"agreementInvestmentProductId\":\"184059\",\"agreementInvestmentProductDesc\":\"BNYM MC INDX\",\"agreementInvestmentProductLongDesc\":\"BNY MELLON MIDCAP INDEX\",\"agreementInvestmentProductShortDesc\":\"DMCIN\",\"investmentElectionPct\":7},{\"hostFIVInvestmentProductNum\":\"TW\",\"hostInvestmentProductNum\":\"TW000R002\",\"agreementInvestmentProductId\":\"347134\",\"agreementInvestmentProductDesc\":\"LA VAL OPP\",\"agreementInvestmentProductLongDesc\":\"LORD ABBETT VALUE OPP\",\"agreementInvestmentProductShortDesc\":\"LAVAO\",\"investmentElectionPct\":7},{\"hostFIVInvestmentProductNum\":\"X7\",\"hostInvestmentProductNum\":\"X7000R002\",\"agreementInvestmentProductId\":\"305987\",\"agreementInvestmentProductDesc\":\"VIC SE VAL\",\"agreementInvestmentProductLongDesc\":\"VICTORY SYCAMORE EST VALUE\",\"agreementInvestmentProductShortDesc\":\"VSEVL\",\"investmentElectionPct\":6}]},{\"assetCategoryGroupName\":\"International\",\"assetCategoryGroupAllocationPct\":22,\"InvestmentElections\":[{\"hostFIVInvestmentProductNum\":\"7K\",\"hostInvestmentProductNum\":\"7K000R001\",\"agreementInvestmentProductId\":\"226911\",\"agreementInvestmentProductDesc\":\"AF EUROPAC\",\"agreementInvestmentProductLongDesc\":\"AMERICAN FUNDS EUROPACIFIC\",\"agreementInvestmentProductShortDesc\":\"EUPGR\",\"investmentElectionPct\":8},{\"hostFIVInvestmentProductNum\":\"K8\",\"hostInvestmentProductNum\":\"K8000R002\",\"agreementInvestmentProductId\":\"106741\",\"agreementInvestmentProductDesc\":\"INV DV MKT\",\"agreementInvestmentProductLongDesc\":\"INVESCO DEVELOPING MARKETS\",\"agreementInvestmentProductShortDesc\":\"INVDM\",\"investmentElectionPct\":7},{\"hostFIVInvestmentProductNum\":\"YI\",\"hostInvestmentProductNum\":\"YI000R002\",\"agreementInvestmentProductId\":\"278567\",\"agreementInvestmentProductDesc\":\"MFS IN INTVL\",\"agreementInvestmentProductLongDesc\":\"MFS INTERNATIONAL INTRINSIC VA\",\"agreementInvestmentProductShortDesc\":\"MFSIV\",\"investmentElectionPct\":7}]},{\"assetCategoryGroupName\":\"Small Cap\",\"assetCategoryGroupAllocationPct\":4,\"InvestmentElections\":[{\"hostFIVInvestmentProductNum\":\"LR\",\"hostInvestmentProductNum\":\"LR000R001\",\"agreementInvestmentProductId\":\"96586\",\"agreementInvestmentProductDesc\":\"BNYM SC STIN\",\"agreementInvestmentProductLongDesc\":\"BNY MELLON SMLCAP STOCK INDEX\",\"agreementInvestmentProductShortDesc\":\"DSCST\",\"investmentElectionPct\":4}]}]},{\"assetClassDesc\":\"Bond\",\"assetClassAllocationPct\":10,\"AssetCategoryGroupAllocations\":[{\"assetCategoryGroupName\":\"Bond\",\"assetCategoryGroupAllocationPct\":10,\"InvestmentElections\":[{\"hostFIVInvestmentProductNum\":\"6K\",\"hostInvestmentProductNum\":\"6K000R002\",\"agreementInvestmentProductId\":\"150476\",\"agreementInvestmentProductDesc\":\"BNYM BN MKID\",\"agreementInvestmentProductLongDesc\":\"BNY MELLON BOND MARKET INDEX\",\"agreementInvestmentProductShortDesc\":\"DBMI\",\"investmentElectionPct\":3},{\"hostFIVInvestmentProductNum\":\"K3\",\"hostInvestmentProductNum\":\"K3000R002\",\"agreementInvestmentProductId\":\"221461\",\"agreementInvestmentProductDesc\":\"JPM CORE BND\",\"agreementInvestmentProductLongDesc\":\"JP MORGAN CORE BOND\",\"agreementInvestmentProductShortDesc\":\"JPMCB\",\"investmentElectionPct\":2},{\"hostFIVInvestmentProductNum\":\"SB\",\"hostInvestmentProductNum\":\"SB000R002\",\"agreementInvestmentProductId\":\"300717\",\"agreementInvestmentProductDesc\":\"LMSSY BD\",\"agreementInvestmentProductLongDesc\":\"LOOMIS SAYLES BOND\",\"agreementInvestmentProductShortDesc\":\"LSYBD\",\"investmentElectionPct\":2},{\"hostFIVInvestmentProductNum\":\"Y2\",\"hostInvestmentProductNum\":\"Y2000R002\",\"agreementInvestmentProductId\":\"148855\",\"agreementInvestmentProductDesc\":\"TMPL GL BOND\",\"agreementInvestmentProductLongDesc\":\"TEMPLETON GLOBAL BOND\",\"agreementInvestmentProductShortDesc\":\"TGBND\",\"investmentElectionPct\":3}]}]}]}]},\"postingDt\":\"2020-03-03T00:00:00.000Z\",\"transType\":\"RSDatainvestmentsModels\",\"transGuid\":\"3f4af98d-1ecb-42ca-ba43-e2dce3294973\",\"transExecDateTS\":\"2020-03-06 03:30:5312 PM\",\"transRequestorId\":\"UNKNOWN\"}";
		ModelCodeJsonParser.modelCodeParser(jsonString, null);
		
	}*/
}